<!DOCTYPE html>
<html lang="en">

<head th:replace="~{fragments/Head :: Head}"></head>

<body>

<div th:replace="~{fragments/Menu::Menu}"></div>
<div th:replace="~{fragments/Header::Header}"></div>
<div th:replace="~{fragments/PanelLateral::PanelLateral}"></div>


<!--INICIO DE CONTENIDO-->
<div class="br-mainpanel ">
  <!--BARRA DE NAVEGACION -->
  <div class="br-pageheader pd-y-5 pd-l-20">
    <nav class="breadcrumb pd-0 mg-0 tx-12">
      <a class="breadcrumb-item" th:href="@{/Inicio}">Inicio</a>
      <span class="breadcrumb-item"></span> <!-- Separador -->
      <a class="breadcrumb-item" th:href="@{/Mascota}">Mascota</a>
    </nav>
  </div>
  <!--FIN DE BARRA DE NAVEGACION -->

  <!-- Mensaje de éxito -->
  <div class="container">
    <div th:if="${message != null}" class="alert alert-success alert-dismissible fade show text-center message" role="alert">
      [[${message}]]
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
  </div>

  <div class="br-pagebody mg-t-5 pd-x-30 ">
    <div class="row row-sm mg-t-20">
      <div class="col-12">
        <div class="br-section-wrapper p-3" style="background-color: #1d2939;">

  <!--TABLA MASCOTA-->
          <div>
            <table class="table display responsive nowrap table-bordered" style="background: azure;">
              <thead class="thead-colored thead-primary ">
              <tr>
                <th class="wd-10p">Dueño</th>
                <th class="wd-10p">Nombre</th>
                <th class="wd-10p">Raza</th>
                <th class="wd-5p">Especie</th>
                <th class="wd-5p">Sexo</th>
                <th class="wd-10p">Fecha nacimiento</th>
                <th class="wd-5p">Edad en años</th>
                <th class="wd-5p">Color</th>
                <th class="wd-5p">Peso en kg</th>
                <th class="wd-5p">Estado</th>
                <th class="wd-5p">Acciones</th>
              </tr>
              </thead>
              <tbody>
              <tr th:each="mascota : ${mascota}">
                <td th:text="${mascota.cliente.nombre}"></td>
                <td th:text="${mascota.nombre}"></td>
                <td th:text="${mascota.raza}"></td>
                <td th:text="${mascota.especie}"></td>
                <td th:text="${mascota.sexo}"></td>
                <td th:text="${mascota.fechaNacimiento}"></td>
                <td th:text="${mascota.edad}"></td>
                <td th:text="${mascota.color}"></td>
                <td th:text="${mascota.peso}"></td>
                <td th:text="${mascota.estado}"></td>
                <td>
                  <a style="padding: 8px; margin-right: 5px;"
                     th:href="@{/Mascota/cambiarEstado/{id}(id=${mascota.id})}"
                     class="btn btn-sm"
                     th:class="${mascota.estado == T(com.Uisrael.SistemaVeterinaria.entities.Mascota.EstadoMascota).ACTIVO ? 'btn-danger' : 'btn-success'}">
                    <i th:class="${mascota.estado == T(com.Uisrael.SistemaVeterinaria.entities.Mascota.EstadoMascota).ACTIVO ? 'fas fa-times' : 'fas fa-check'}"></i>
                  </a>
                  <!-- Botón "Editar" solo visible si la mascota está ACTIVO -->
                  <a th:if="${mascota.estado == T(com.Uisrael.SistemaVeterinaria.entities.Mascota.EstadoMascota).ACTIVO}"
                     th:href="@{/Mascota/editar/{id}(id=${mascota.id})}"
                     class="btn btn-outline-warning btn-icon"
                     style="padding: 8px;">
                    <i class="fa fa-edit"></i>
                  </a>
                </td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>

<!--FIN DE CONTENIDO-->


<footer class="br-footer">
  <div class="footer-left">
    <div class="mg-b-2">Copyright © 2024 Uisrael Sistema Veterinaria </div>
    <div>Si lo puedes imaginar lo puedes crear</div>
  </div>
</footer>
</div>


<script src="../../lib/jquery/jquery.js"></script>
<script src="../../lib/popper.js/popper.js"></script>
<script src="../../lib/bootstrap/bootstrap.js"></script>
<script src="../../lib/perfect-scrollbar/js/perfect-scrollbar.jquery.js"></script>
<script src="../../lib/moment/moment.js"></script>
<script src="../../lib/jquery-ui/jquery-ui.js"></script>
<script src="../../lib/jquery-switchbutton/jquery.switchButton.js"></script>
<script src="../../lib/peity/jquery.peity.js"></script>
<script src="../../js/bracket.js"></script>
<script src="../../lib/morris.js/morris.js"></script>
<script src="../../lib/highlightjs/highlight.pack.js"></script>
<script src="../../lib/raphael/raphael.min.js"></script>
<script src="../../lib/js/chart.morris.js"></script>
<script src="../../lib/datatables/jquery.dataTables.js"></script>
<script src="../../lib/datatables-responsive/dataTables.responsive.js"></script>
<script src="../../datatables/dataTables.buttons.min.js"></script>
<script src="../../datatables/buttons.html5.min.js"></script>
<script src="../../datatables/buttons.colVis.min.js"></script>
<script src="../../datatables/jszip.min.js"></script>
<script src="../../lib/select2/js/select2.min.js"></script>
<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="../../datatables/pdfmake.min.js"></script>
<script src="../../datatables/vfs_fonts.js"></script>
</body>
</html>
